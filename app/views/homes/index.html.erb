<div class="col-lg-12">
  <h3>Matrix Table</h3>
  <% if (@positions && @trainings).present? %>
      <div class="col-lg-10">
        <p class="position-text"><b>Positions</b></p>
        <%= form_tag homes_path do |f|%>
            <table class="responsive-table-input-matrix">
              <thead>
              <tr>
                <td></td>
                <% @positions.each do |position|%>
                    <td><%=position.title%></td>
                <% end %>
              </tr>
              </thead>
              <tbody>
              <% @trainings.each do |training|%>
                  <tr>
                    <td><%= training.name %></td>
                    <% @positions.each do |position|%>
                        <%= hidden_field_tag "trainings[]#{training.name}[]",nil  %>
                        <td><%= check_box_tag "trainings[]#{training.name}[]", position.id,@selections.find_by_training_id_and_position_id(training.id,  position.id).present? %></td>
                    <% end %>
                  </tr>
              <% end %>
              </tbody>
            </table>
            <br/>
            <%= submit_tag "Submit", class: "btn btn-primary" %>
        <% end %><br>
        <p class="training-text"><b>Trainings</b></p>
      </div>
  <% else %>
      <p>No Record is found</p>
  <% end %>
  <div class="col-lg-2">
    <%= link_to "Create Position", positions_path,:class => "pull-right btn btn-primary" %><br><br>
    <%= link_to "Create Training", trainings_path,:class => "pull-right btn btn-primary" %>
  </div>
  <% if @selections.present? %>
      <table class="responsive-table-input-matrix">
        <thead>
        <tr>
          <th>Position</th>
          <th>Training</th>
        </tr>
        </thead>
        <tbody>
        <% @selections.each do |selection|%>
            <tr>
              <td><%= selection.position.title %></td>
              <td><%= selection.training.name %></td>
            </tr>
        <% end %>
        </tbody>
      </table>
  <% end %>
</div>